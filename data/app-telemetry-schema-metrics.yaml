file_format: 1.2.0
parent_schema_url: https://opentelemetry.io/schemas/1.21.0
schema_url: https://mycompany.com/schemas/1.0.0
semantic_conventions:
  - url: https://raw.githubusercontent.com/open-telemetry/semantic-conventions/main/model/resource/os.yaml
  - url: https://raw.githubusercontent.com/open-telemetry/semantic-conventions/main/model/url.yaml
  - url: https://raw.githubusercontent.com/open-telemetry/semantic-conventions/main/model/http-common.yaml
  - url: https://raw.githubusercontent.com/open-telemetry/semantic-conventions/main/model/client.yaml
  - url: https://raw.githubusercontent.com/open-telemetry/semantic-conventions/main/model/exception.yaml
  - url: https://raw.githubusercontent.com/open-telemetry/semantic-conventions/main/model/server.yaml
  - url: https://raw.githubusercontent.com/open-telemetry/semantic-conventions/main/model/network.yaml
  - url: https://raw.githubusercontent.com/open-telemetry/semantic-conventions/main/model/metrics/http.yaml

schema:
  resource:
    attributes:
      - resource_ref: os

  instrumentation_library:
    name: "my-service"
    version: "1.0.0"

  resource_metrics:
    # Common attributes shared across univariate and multivariate metrics
    attributes:
      - id: environment
        type: string
        brief: The environment in which the service is running
        tag: sensitive-information
        requirement_level: required
    metrics:
      - ref: http.server.request.duration
#        attributes:
#          - attribute_group_ref: server
#          - ref: http.request.method
#          - ref: http.response.status_code
#          - ref: network.protocol.name
#          - ref: network.protocol.version
#          - ref: url.scheme
    metric_groups:
      - id: http
#        attributes:
#          - attribute_group_ref: server
#          - ref: http.request.method
#          - ref: http.response.status_code
#          - ref: network.protocol.name
#          - ref: network.protocol.version
#          - ref: url.scheme
        metrics:
          - ref: http.server.request.duration
          - ref: http.server.request.body.size
          - ref: http.server.response.body.size
#      - id: another_http
#        metrics:
#          - ref: http.server.request.duration
#          - ref: http.server.active_requests
#          - ref: http.server.request.body.size
#          - ref: http.server.response.body.size
